#!/usr/bin/env python
"""
demo_filter
4 june 2014

dent earl, dearl a soe ucsc edu

Demonstration of what a filter should look like.

"""
from argparse import ArgumentParser
import sys
import lib_filter


def main():
  parser = ArgumentParser()
  lib_filter.InitializeArguments(parser)
  args = parser.parse_args()
  lib_filter.CheckArguments(args, parser)
  sys.stdout.write('Call: %s %s %s %s %s %s %s %s %s\n'
                   % (sys.argv[0],
                      args.refGenome,
                      args.genome,
                      args.geneCheckBed,
                      args.geneCheckBedDetails,
                      args.alignment,
                      args.sequence,
                      args.chromSizes,
                      args.outDir,
                      ))
  seq_dict = lib_filter.getSequences(args.sequence)
  chrom_dict = lib_filter.getChromSizes(args.chromSizes)
  for chrom in chrom_dict:
    assert(chrom_dict[chrom] == seq_dict[chrom].getLength())
  for chrom in seq_dict:
    assert(chrom_dict[chrom] == seq_dict[chrom].getLength())


if __name__ == '__main__':
  main()
